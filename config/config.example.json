{
  "_comment": "YouTube 字幕下载工具 v4.0 配置示例",
  "_version": "4.0.0-stable",
  
  "output_root": "out",
  "max_workers": 5,
  "sleep_between": 0.5,
  "retry_times": 2,
  
  "download": {
    "enabled": true,
    "langs": ["zh", "en"],
    "prefer": "both",
    "format": "txt",
    "merge_bilingual": false,
    "incremental": true
  },
  
  "detection": {
    "mode": "standard",
    "adaptive_concurrency": true,
    "min_workers": 2,
    "max_workers_cap": 20,
    "early_stop_on_seen": true
  },
  
  "proxy": {
    "enabled": false,
    "mode": "round_robin",
    "cool_down_sec": 300,
    "max_fails": 2,
    "blacklist_threshold": 0.15,
    "window": 30,
    "blacklist_recovery_sec": 600,
    "proxies": [
      "http://proxy1.example.com:8080",
      "http://proxy2.example.com:8080"
    ]
  },
  
  "rate_limit": {
    "req_rate": 4.0,
    "ytdlp_rate": 3.0,
    "yta_rate": 5.0
  },
  
  "circuit_breaker": {
    "threshold": 8,
    "cooldown_sec": 120.0
  },
  
  "ai": {
    "enabled": false,
    "workers": 3,
    "timeout_s": 60,
    "resume": true,
    "lang_pref": ["zh", "en"],
    "chunk_chars": 12000,
    "merge_strategy": "concat",
    "max_tokens_per_run": 500000,
    "max_daily_cost_usd": 10.0,
    "providers": [
      {
        "name": "openai",
        "enabled": false,
        "api_key": "env:OPENAI_API_KEY",
        "base_url": "https://api.openai.com/v1",
        "model": "gpt-3.5-turbo",
        "max_tokens": 1000,
        "temperature": 0.3
      },
      {
        "name": "anthropic",
        "enabled": false,
        "api_key": "env:ANTHROPIC_API_KEY",
        "model": "claude-3-haiku-20240307",
        "max_tokens": 1000,
        "temperature": 0.3
      },
      {
        "name": "gemini",
        "enabled": false,
        "api_key": "env:GEMINI_API_KEY",
        "model": "gemini-pro",
        "max_tokens": 1000,
        "temperature": 0.3
      }
    ]
  },
  
  "webhook": {
    "enabled": false,
    "url": "https://your-webhook-endpoint.com/notify",
    "timeout_sec": 5,
    "max_retry": 3,
    "secret": "env:WEBHOOK_SECRET",
    "events": [
      "run_start",
      "detect_done",
      "download_done",
      "ai_done",
      "ai_guard_stop",
      "run_end"
    ]
  },
  
  "subscription": {
    "enabled": true,
    "auto_update": false,
    "update_interval_hours": 24,
    "max_items_per_source": 0
  },
  
  "queue": {
    "enabled": true,
    "max_parallel": 2,
    "retry_on_failure": true,
    "fair_scheduling_delay_ms": [100, 300]
  },
  
  "export": {
    "auto_export_csv": true,
    "auto_export_excel": false,
    "excel_days": 7
  },
  
  "logging": {
    "level": "INFO",
    "file": "gpt_tool.log",
    "max_size_mb": 10,
    "backup_count": 3
  },
  
  "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
  "cookiefile": ""
}

